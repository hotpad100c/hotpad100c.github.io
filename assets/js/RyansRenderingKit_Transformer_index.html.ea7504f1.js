"use strict";(self.webpackChunkryan100c_vuepress_blog=self.webpackChunkryan100c_vuepress_blog||[]).push([[306],{3036(r,o,e){e.r(o),e.d(o,{comp:()=>l,data:()=>a});var n=e(9195);const t={},l=(0,e(2623).A)(t,[["render",function(r,o){return(0,n.uX)(),(0,n.CE)("div",null,[...o[0]||(o[0]=[(0,n.Fv)('<p>Transformer 系统支持三种变换层级：<strong>世界（world）</strong>、<strong>本地（local）</strong> 和 <strong>视觉（matrix）</strong>。</p><p>它们在语义和作用范围上的区别如下：</p><ul><li><p><strong>world（世界变换）</strong><br> 表示图形在世界坐标系中的位置、旋转与缩放。<br> 该层级会影响图形的射线计算结果，并且会传递给所有子图形。</p></li><li><p><strong>local（本地变换）</strong><br> 基于 world 层变换之上的额外偏移，包括位置、旋转与缩放。 该层级同样会影响图形的射线计算，但<strong>不会影响子图形</strong>。</p></li><li><p><strong>matrix（视觉变换）</strong><br> 在 world 与 local 变换结果的基础上施加的纯视觉偏移， 该层级<strong>不参与射线计算</strong>，也<strong>不会影响子图形</strong>。</p></li></ul><h2 id="defaulttransformer-默认变换器" tabindex="-1"><a class="header-anchor" href="#defaulttransformer-默认变换器"><span>DefaultTransformer（默认变换器）</span></a></h2><blockquote><p>所有变换器的父类，默认的变换器。</p></blockquote><ul><li><strong>关键方法</strong>： <ul><li><code>syncLastToTarget()</code>：同步所有层的目标值到当前值（跳过动画）。</li><li><strong>Getter/Setter</strong>： <ul><li><code>getShapeWorldPivot(boolean lerp)</code>、<code>setShapeWorldPivot(Vec3 v)</code>：世界位置。</li><li><code>getShapeWorldScale(boolean lerp)</code>、<code>setShapeWorldScale(Vec3 v)</code>：世界缩放。</li><li><code>getShapeWorldRotation(boolean lerp)</code>、<code>setShapeWorldRotation(Quaternionf q)</code> 或 <code>setShapeWorldRotationDegrees(float x, y, z)</code>：世界旋转。</li><li>类似方法用于 local 和 matrix 层。</li><li>简便 getter 如 <code>getWorldPivot()</code>（默认 lerp=true，lerp 为 true 时返回插值值）</li></ul></li></ul></li></ul><h2 id="transformlayer-单层变换" tabindex="-1"><a class="header-anchor" href="#transformlayer-单层变换"><span>TransformLayer（单层变换）</span></a></h2><blockquote><p>上方 DefaultTransformer 中实际用于管理位置，旋转和缩放的角色。</p></blockquote><h2 id="valuetransformer-及其子类" tabindex="-1"><a class="header-anchor" href="#valuetransformer-及其子类"><span>ValueTransformer 及其子类</span></a></h2><blockquote><p>ValueTransformer 是抽象基类，用于处理不同数据类型的目标值与当前值的插值。</p></blockquote><ul><li><strong>子类</strong>： <ul><li><strong>Vec3Transformer</strong>（Vec3 类型）：处理分量。</li><li><strong>QuaternionTransformer</strong>（Quaternionf 类型）：处理旋转。</li><li><strong>FloatTransformer</strong>（Float 类型）：处理简单差值，用于半径、线宽等。</li><li><strong>IntTransformer</strong>（Integer 类型）：处理整数差值，用于段数等。</li></ul></li></ul><h2 id="modelinfolayer-及其子类" tabindex="-1"><a class="header-anchor" href="#modelinfolayer-及其子类"><span>ModelInfoLayer 及其子类</span></a></h2><blockquote><p>用于管理图形的位置，旋转和缩放意外的模型信息。</p></blockquote><ul><li><strong>子类</strong>（路径在 <code>shapeModelInfoTransformer</code> 目录）： <ul><li><strong>BoxModelInfo</strong>：管理盒形尺寸（Vec3Transformer dimension）。</li><li><strong>CircleModelInfo</strong>：管理圆形参数（IntTransformer segments, FloatTransformer radius）。</li><li><strong>LineModelInfo</strong>：管理线宽（FloatTransformer width）。</li><li><strong>TwoPointLineModelInfo</strong>（扩展 LineModelInfo）：管理起点/终点（Vec3Transformer start/end）。</li></ul></li></ul><h2 id="形状特定-transformer-子类" tabindex="-1"><a class="header-anchor" href="#形状特定-transformer-子类"><span>形状特定 Transformer 子类</span></a></h2><p>DefaultTransformer 被扩展以支持形状特定逻辑：</p><ul><li><strong>BoxTransformer</strong>：用于盒状体管理。</li><li><strong>CylinderTransformer</strong>：添加 CircleModelInfo 和 FloatTransformer（height），用于圆柱和圆锥体。</li><li><strong>FaceCircleTransformer</strong>：添加 CircleModelInfo。用于圆面与球体。</li><li><strong>LineCircleTransformer</strong>：添加 CircleModelInfo 和 LineModelInfo。</li><li><strong>SimpleLineTransformer</strong>：添加 LineModelInfo（用于线宽）。</li><li><strong>TwoPointsLineTransformer</strong>：添加 TwoPointLineModelInfo（起点、终点、线宽）。</li></ul>',17)])])}]]),a=JSON.parse('{"path":"/RyansRenderingKit/Transformer/","title":"Transformer","lang":"zh-CN","frontmatter":{"permalink":"/RyansRenderingKit/Transformer/","title":"Transformer","createTime":"2026/02/07 03:26:36"},"readingTime":{"minutes":1.86,"words":558},"git":{"createdTime":1764130029000,"updatedTime":1770433554000,"contributors":[{"name":"hotpad100c","username":"hotpad100c","email":"46704388+hotpad100c@users.noreply.github.com","commits":7,"avatar":"https://avatars.githubusercontent.com/hotpad100c?v=4","url":"https://github.com/hotpad100c"}]},"filePathRelative":"RyansRenderingKit/Transformer.md","headers":[]}')}}]);